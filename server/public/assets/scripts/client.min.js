var app=angular.module("clientApp",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/home_page.html",controller:"HomeController"}).when("/about",{templateUrl:"views/about.html",controller:"AboutController"}).when("/sign_in",{templateUrl:"views/sign_in.html",controller:"SignInController"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterController"}).when("/guest",{templateUrl:"views/guest.html",controller:"GuestController"}).when("/success",{templateUrl:"views/user_welcome.html",controller:"UserController"}).when("/fail",{templateUrl:"views/fail.html",controller:"FailController"}).when("/register_success",{templateUrl:"views/register_success.html",controller:"RegisterSuccessController"}).when("/edit_profile",{templateUrl:"views/edit_profile.html",controller:"EditProfileController"}).when("/view_data",{templateUrl:"views/view_data.html",controller:"ViewDataController"}).when("/new_entry",{templateUrl:"views/new_entry.html",controller:"NewEntryController"}).when("/log_out",{templateUrl:"views/log_out.html",controller:"LogOutController"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]),app.controller("MainController",["$scope","userData",function(a,b){a.notSignedIn=!0,a.signedIn=!1,changeNavLinks=function(){""!==b.currentUser.username?(a.notSignedIn=!1,a.signedIn=!0):(a.notSignedIn=!0,a.signedIn=!1)}}]),app.controller("HomeController",["$scope","userData",function(a,b){a.about=!1,a.toggleAbout=function(){a.about=a.about===!0?!1:!0}}]),app.controller("AboutController",["$scope",function(a){}]),app.controller("SignInController",["$scope","$http","$location","userData",function(a,b,c,d){a.data={},a.submitData=function(){b.post("/",a.data).then(function(b){d.setUser(a.data.username),d.setUserID(a.data.username),c.path(b.data)})}}]),app.controller("RegisterController",["$scope","$http","$location",function(a,b,c){a.data={},a.registerData=function(){b({url:"/api/registerUser",method:"POST",params:{username:a.data.username,password:a.data.password,first_name:a.data.first_name,last_name:a.data.last_name,email:a.data.email}}).then(function(a){c.path(a.data)})}}]),app.controller("RegisterSuccessController",["$scope","$http",function(a,b){}]),app.controller("GuestController",["$scope",function(a){}]),app.controller("UserController",["$scope","userData",function(a,b){a.thisUser=b.currentUser.username,a.welcome="Welcome, "+a.thisUser+"!",a.getID=function(){console.log("Hi:",b.currentUser.id)}}]),app.controller("EditProfileController",["$scope","userData",function(a,b){}]),app.controller("ViewDataController",["$scope","userData",function(a,b){}]),app.controller("NewEntryController",["$scope","$http","userData",function(a,b,c){a.data={},a.categories=["Birds","Mammals","Herps","Invertebrates","Plants","Other"],a.sexList=["Female","Male","Unknown"],a.ageList=["Adult","Juvenile","Neonate"],a.tempList=["0˚<","0˚ - 15˚","16˚ - 32˚","33˚ - 49˚","50˚ - 69˚","70˚ - 89˚",">90˚"];var d=c.currentUser.username,e=c.currentUser.id,f=Date.now(),g={user_id:e,username:d,date_submitted:f,category:a.data.category,common_name:a.data.common_name,scientific_name:a.data.scientific_name,location_country:a.data.location_country,location_state:a.data.location_state,location_county:a.data.location_county,year_spotted:a.data.year_spotted,month_spotted:a.data.month_spotted,day_spotted:a.data.day_spotted,group:a.data.group,number_in_group:a.data.number_in_group,individual_sex:a.data.sex,individual_age:a.data.age,individual_description:a.data.individual_description,sunny:a.data.sunny,overcast:a.data.overcast,raining:a.data.raining,snowing:a.data.snowing,foggy:a.data.foggy,windy:a.data.windy,other_weather:a.data.other_weather,temperature:a.data.temperature,additional_notes:a.data.additional_notes};a.submitEntry=function(){b({url:"/api/newEntry",method:"POST",params:g}).then(function(a){console.log(a.data)})}}]),app.controller("LogOutController",["$scope","userData",function(a,b){a.warning="Are you sure you want to log out, "+b.currentUser.username+"?"}]),app.controller("FailController",["$scope",function(a){console.log("Ha ha!")}]),app.factory("userData",["$http","$timeout",function(a,b){var c={username:"",id:""},d=function(a){c.username=a,changeNavLinks()},e=function(b){var d="/"+b;a.get("/api/getUser"+d).then(function(a){c.id=a.data.user.id})};return{currentUser:c,setUser:d,setUserID:e}}]);